const yearEl = document.getElementById('year')
if (yearEl) yearEl.textContent = new Date().getFullYear()

// Favorites handling
document.querySelectorAll('.fav-btn').forEach(btn=>{
  btn.addEventListener('click',()=>{
    btn.classList.toggle('saved')
    btn.textContent = btn.classList.contains('saved') ? 'üíñ Saved' : '‚ô° Save'
  })
})

// Scroll to villas
const discover = document.getElementById('discover')
if(discover){
  discover.addEventListener('click',()=>{
    document.getElementById('villas').scrollIntoView({behavior:'smooth'})
  })
}

// Contact form (local save simulation)
const form=document.getElementById('contactForm')
const response=document.getElementById('response')
if(form){
  form.addEventListener('submit',e=>{
    e.preventDefault()
    const name=document.getElementById('name').value.trim()
    const email=document.getElementById('email').value.trim()
    const msg=document.getElementById('msg').value.trim()
    if(!name||!email||!msg){
      response.textContent='‚ö†Ô∏è Please fill all fields.'
      return
    }
    localStorage.setItem('villa-msg',JSON.stringify({name,email,msg,time:new Date().toLocaleString()}))
    response.textContent='‚úÖ Message saved locally!'
    form.reset()
  })
}
